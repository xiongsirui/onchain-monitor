# ğŸ” å¸å®‰æ–°å¸æ£€æµ‹é€»è¾‘è¯¦è§£

> æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¤šé“¾ç›‘å¬å™¨çš„å®Œæ•´æ£€æµ‹é€»è¾‘å’Œè¯„åˆ†æœºåˆ¶

---

## ğŸ“‹ ç›®å½•

1. [æ•´ä½“æ¶æ„](#æ•´ä½“æ¶æ„)
2. [ç›‘å¬æµç¨‹](#ç›‘å¬æµç¨‹)
3. [å››ç»´åº¦è¯„åˆ†ç³»ç»Ÿ](#å››ç»´åº¦è¯„åˆ†ç³»ç»Ÿ)
4. [å¤§é¢è½¬è´¦è¯†åˆ«](#å¤§é¢è½¬è´¦è¯†åˆ«)
5. [å¥³å·«æ”»å‡»æ£€æµ‹](#å¥³å·«æ”»å‡»æ£€æµ‹)
6. [å‘Šè­¦ç­–ç•¥](#å‘Šè­¦ç­–ç•¥)
7. [è¯„åˆ†ç¤ºä¾‹](#è¯„åˆ†ç¤ºä¾‹)

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

### æ ¸å¿ƒç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å¤šé“¾ç›‘å¬å™¨å…¥å£                         â”‚
â”‚            (run_multichain.py)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ETH é“¾   â”‚    â”‚  BSC é“¾    â”‚    â”‚ Solanaé“¾ â”‚
   â”‚ ç›‘å¬å™¨   â”‚    â”‚  ç›‘å¬å™¨    â”‚    â”‚ ç›‘å¬å™¨   â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   BinanceTokenFilter (å…±äº«)    â”‚
        â”‚   è¿‡æ»¤å·²ä¸Šæ¶ä»£å¸ (441ä¸ª)        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  AdvancedTokenAnalyzer (å…±äº«)  â”‚
        â”‚  å››ç»´åº¦è¯„åˆ† + å¥³å·«æ£€æµ‹          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     å‘Šè­¦ç³»ç»Ÿ (å¯é€‰é£ä¹¦é€šçŸ¥)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ç›‘å¬æµç¨‹

### æ­¥éª¤ 1: åŒºå—é“¾äº‹ä»¶æ•è·

**EVM é“¾ (ETH + BSC)**:
```python
# HTTP è½®è¯¢æ¨¡å¼ï¼ˆå½“å‰ä½¿ç”¨ï¼‰
æ¯ N ç§’æŸ¥è¯¢ä¸€æ¬¡ eth_getLogs:
  - ETH: æ¯ 12 ç§’æŸ¥è¯¢ 1-2 ä¸ªåŒºå—
  - BSC: æ¯ 3 ç§’æŸ¥è¯¢ 4-5 ä¸ªåŒºå—

è¿‡æ»¤æ¡ä»¶:
  - topics[0] = Transfer äº‹ä»¶ç­¾å
  - topics[2] = Binance é’±åŒ…åœ°å€ (to åœ°å€)
```

**Solana é“¾**:
```python
# RPC è½®è¯¢æ¨¡å¼
æ¯ 2 ç§’æŸ¥è¯¢ä¸€æ¬¡ç­¾ååˆ—è¡¨:
  - è·å– Binance é’±åŒ…æœ€æ–°äº¤æ˜“
  - è§£æ SPL Token Transfer æŒ‡ä»¤
```

---

### æ­¥éª¤ 2: ä»£å¸è¿‡æ»¤

```python
# 1. æå–åˆçº¦åœ°å€
contract_address = log['address']  # EVM
# OR
mint_address = instruction['mint']  # Solana

# 2. æŸ¥è¯¢ä»£å¸ä¿¡æ¯
token_info = {
    'symbol': 'XXX',
    'name': 'Token Name',
    'decimals': 18,
    'contract': '0x...'
}

# 3. æ£€æŸ¥æ˜¯å¦å·²åœ¨å¸å®‰ä¸Šæ¶
is_listed, info = binance_filter.is_listed_on_binance(contract_address)
if is_listed:
    è¿‡æ»¤æ‰ (å·²ä¸Šæ¶ï¼Œä¸æ˜¯æ–°å¸)
else:
    ç»§ç»­åˆ†æ (å¯èƒ½æ˜¯æ–°å¸)
```

---

### æ­¥éª¤ 3: è½¬è´¦è®°å½•ç¼“å†²

```python
# ä¸ºæ¯ä¸ªæ–°ä»£å¸ç»´æŠ¤ä¸€ä¸ªç¼“å†²åŒº
new_tokens_buffer = {
    '0xNewToken...': {
        'transfers': [
            {'from': '0xA...', 'value': 1000000, 'timestamp': 1700000000},
            {'from': '0xB...', 'value': 500000, 'timestamp': 1700003600},
        ],
        'senders': {'0xA...', '0xB...'},
        'first_seen': 1700000000,
        'last_seen': 1700003600,
        'analysis': None,  # ç¨åå¡«å……
    }
}
```

---

### æ­¥éª¤ 4: è§¦å‘å®Œæ•´åˆ†æ

**è§¦å‘æ¡ä»¶** (æ»¡è¶³ä»»ä¸€):
- âœ… è½¬è´¦æ•°é‡ â‰¥ 2 ç¬” (åŸæœ‰é€»è¾‘)
- âœ… å•ç¬”å¤§é¢è½¬è´¦ â‰¥ 10ä¸‡ä»£å¸ (é¡¹ç›®æ–¹æ‰“æ–°) ğŸ†•

```python
def _should_run_analysis(buffer):
    # åŸæœ‰é€»è¾‘ï¼š2ç¬”ä»¥ä¸Š
    if len(buffer['transfers']) >= 2:
        return True

    # æ–°å¢ï¼šå•ç¬”å¤§é¢è½¬è´¦ä¹Ÿè§¦å‘åˆ†æ
    if len(buffer['transfers']) == 1:
        tx = buffer['transfers'][0]
        value = tx.get('value', 0)
        # æ£€æŸ¥æ˜¯å¦ä¸ºå¤§é¢è½¬è´¦
        if value >= 1e23:  # 10ä¸‡ä»£å¸å•ç¬”
            return True

    return False

# è§¦å‘åæ‰§è¡Œåˆ†æ
if should_run_analysis(buffer):
    analysis = analyzer.analyze_transfers(
        transfers=buffer['transfers'],
        senders=buffer['senders'],
        token_info=token_info
    )
    buffer['analysis'] = analysis
```

**ä»£ç ä½ç½®**: [multichain_listener.py:628-650](../multichain_listener.py#L628-L650)

---

## ğŸ“Š å››ç»´åº¦è¯„åˆ†ç³»ç»Ÿ

### æ€»ä½“å…¬å¼

```
æœ€ç»ˆç½®ä¿¡åº¦ = åŸºç¡€ç»Ÿè®¡(30%) + æ—¶é—´æ¨¡å¼(20%) + é‡‘é¢åˆ†å¸ƒ(20%) + å¥³å·«æ£€æµ‹(30%)
```

---

### ç»´åº¦ 1: åŸºç¡€ç»Ÿè®¡åˆ†æ (æƒé‡ 30%)

**è¯„åˆ†é€»è¾‘**:

| æ£€æµ‹é¡¹ | æ¡ä»¶ | æ‰£åˆ† | è¯´æ˜ |
|-------|------|------|------|
| è½¬è´¦æ•°é‡ | < 2 ç¬” | -30% | é™¤éæ˜¯å¤§é¢è½¬è´¦ (-10%) |
| è½¬è´¦æ•°é‡ | < 3 ç¬” | -10% | é™¤éæ˜¯å¤§é¢è½¬è´¦ (-5%) |
| å‘é€è€…æ•°é‡ | < 1 ä¸ª | -30% | å¤§é¢è½¬è´¦è±å… |
| å‘é€è€…é›†ä¸­åº¦ | > 95% æ¥è‡ªå•ä¸€åœ°å€ | -20% | å¤§é¢è½¬è´¦è±å… |

**å¤§é¢è½¬è´¦åŠ åˆ†**:
```python
# åˆ¤æ–­æ ‡å‡†
is_large_transfer = (
    æ€»é‡‘é¢ >= 100ä¸‡ä»£å¸ (1e24 wei)
    OR
    å•ç¬”é‡‘é¢ >= 10ä¸‡ä»£å¸ (1e23 wei)
)

# åŠ åˆ†
if is_large_transfer:
    score += 30%  # é¡¹ç›®æ–¹æ‰“æ–°æ¨¡å¼
```

**ä»£ç ä½ç½®**: [multichain_listener.py:151-216](multichain_listener.py#L151-L216)

---

### ç»´åº¦ 2: æ—¶é—´æ¨¡å¼åˆ†æ (æƒé‡ 20%)

**è¯„åˆ†é€»è¾‘**:

| æ£€æµ‹é¡¹ | æ¡ä»¶ | æ‰£åˆ† | è¯´æ˜ |
|-------|------|------|------|
| æ—¶é—´èšç±» | > 50% è½¬è´¦åœ¨ 60 ç§’å†… | -30% | ç–‘ä¼¼æ‰¹é‡æ“ä½œ |
| æ—¶é—´è·¨åº¦ | > 24 å°æ—¶ | +10% | è‡ªç„¶æ´»è·ƒä¿¡å· |

**æ—¶é—´åˆ†å¸ƒç¤ºä¾‹**:
```python
# æ­£å¸¸é¡¹ç›®æ–¹æ‰“æ–°
transfers = [
    {'timestamp': 1700000000},  # ç¬¬ 1 ç¬”
    {'timestamp': 1700000300},  # 5 åˆ†é’Ÿå âœ…
]
â†’ ä¸è§¦å‘æ—¶é—´èšç±»è­¦å‘Š

# å¥³å·«æ”»å‡»
transfers = [
    {'timestamp': 1700000000},
    {'timestamp': 1700000010},  # 10 ç§’å âš ï¸
    {'timestamp': 1700000020},  # 20 ç§’å âš ï¸
]
â†’ è§¦å‘è­¦å‘Š: "å‘ç° 2 ç¬”äº¤æ˜“æ—¶é—´è¿‡äºæ¥è¿‘"
```

**ä»£ç ä½ç½®**: [multichain_listener.py:218-251](multichain_listener.py#L218-L251)

---

### ç»´åº¦ 3: é‡‘é¢åˆ†å¸ƒåˆ†æ (æƒé‡ 20%)

**è¯„åˆ†é€»è¾‘**:

| æ£€æµ‹é¡¹ | æ¡ä»¶ | æ‰£åˆ† | è¯´æ˜ |
|-------|------|------|------|
| é‡‘é¢ç›¸ä¼¼åº¦ | > 70% é‡‘é¢ç›¸åŒ | -30% | ç–‘ä¼¼æ‰¹é‡æµ‹è¯• |
| å˜å¼‚ç³»æ•° (CV) | < 0.1 | -20% | é‡‘é¢å‡ ä¹ç›¸åŒ |

**å˜å¼‚ç³»æ•°è®¡ç®—**:
```python
CV = æ ‡å‡†å·® / å¹³å‡å€¼

# ç¤ºä¾‹
é‡‘é¢ = [100, 100, 100, 100, 100]
â†’ CV = 0 â†’ å˜å¼‚åº¦æä½ âš ï¸

é‡‘é¢ = [100, 500, 200, 1000, 300]
â†’ CV = 0.6 â†’ å˜å¼‚åº¦æ­£å¸¸ âœ…
```

**ä»£ç ä½ç½®**: [multichain_listener.py:253-292](multichain_listener.py#L253-L292)

---

### ç»´åº¦ 4: å¥³å·«æ”»å‡»æ£€æµ‹ (æƒé‡ 30%)

**ä¸‰å¤§æŒ‡æ ‡**:

| æŒ‡æ ‡ | åˆ¤æ–­æ¡ä»¶ | è§¦å‘ |
|------|---------|------|
| æŒ‡æ ‡ 1: å‘é€è€…è¿‡å°‘ | < 1 ä¸ªç‹¬ç«‹å‘é€è€… | âœ… |
| æŒ‡æ ‡ 2: æ—¶é—´è¿‡äºé›†ä¸­ | > 50% è½¬è´¦åœ¨ 60 ç§’å†… | âœ… |
| æŒ‡æ ‡ 3: é‡‘é¢è¿‡äºç›¸ä¼¼ | > 70% é‡‘é¢ç›¸åŒ + å¹³å‡ < 10,000 tokens | âœ… |

**ç»¼åˆåˆ¤å®š**:
```python
if sybil_indicators >= 2:
    æ‰£ 40% + è­¦å‘Š "å¥³å·«æ”»å‡»é£é™©"
elif sybil_indicators == 1:
    æ‰£ 20% + è­¦å‘Š "è½»å¾®å¥³å·«æ”»å‡»è¿¹è±¡"
else:
    æ»¡åˆ†é€šè¿‡
```

**å¤§é¢è½¬è´¦è±å…æœºåˆ¶** (ğŸ†•):
```python
# é¡¹ç›®æ–¹æ‰“æ–°é€šå¸¸æ˜¯å¤§é¢å•å‘é€è€…
if is_large_transfer:
    return 1.0  # æ»¡åˆ†é€šè¿‡ï¼Œè±å…å¥³å·«æ£€æµ‹
```

**ä»£ç ä½ç½®**: [multichain_listener.py:294-346](multichain_listener.py#L294-L346)

---

## ğŸ’ å¤§é¢è½¬è´¦è¯†åˆ«

### è¯†åˆ«æ ‡å‡†

```python
# é˜ˆå€¼é…ç½®
large_transfer_thresholds = {
    'min_total_value': 1e24,      # æ€»è®¡ >= 100ä¸‡ä»£å¸ (18 decimals)
    'min_single_value': 1e23,     # å•ç¬” >= 10ä¸‡ä»£å¸
    'bonus_score': 0.3,           # åŠ  30% ç½®ä¿¡åº¦
}
```

### è¯†åˆ«é€»è¾‘

```python
# 1. è®¡ç®—æ€»é‡‘é¢å’Œæœ€å¤§å•ç¬”é‡‘é¢
total_value = sum(tx['value'] for tx in transfers)
max_single_value = max(tx['value'] for tx in transfers)

# 2. åˆ¤æ–­æ˜¯å¦ä¸ºå¤§é¢
is_large_transfer = (
    total_value >= 1e24 OR max_single_value >= 1e23
)

# 3. ç‰¹æ®Šå¤„ç†
if is_large_transfer:
    âœ… è½¬è´¦æ•°é‡å°‘ â†’ åªæ‰£ 10% (åŸæœ¬ 30%)
    âœ… å•ä¸€å‘é€è€… â†’ æ ‡è®°ä¸º"é¡¹ç›®æ–¹å…¥åº“æ¨¡å¼"
    âœ… å‘é€è€…é›†ä¸­ â†’ è±å…é›†ä¸­åº¦æ£€æŸ¥
    âœ… å¥³å·«æ£€æµ‹ â†’ å®Œå…¨è±å…
    âœ… é¢å¤–åŠ åˆ† â†’ +30% ç½®ä¿¡åº¦
```

---

## ğŸ•µï¸ å¥³å·«æ”»å‡»æ£€æµ‹

### å…¸å‹å¥³å·«æ”»å‡»æ¨¡å¼

```python
# åœºæ™¯: 5 ä¸ªé’±åŒ…ï¼Œç›¸åŒé‡‘é¢ï¼Œ30 ç§’å†…å®Œæˆ
transfers = [
    {'from': '0xSybil1...', 'value': 100 * 10**18, 'timestamp': 1700000000},
    {'from': '0xSybil2...', 'value': 100 * 10**18, 'timestamp': 1700000010},
    {'from': '0xSybil3...', 'value': 100 * 10**18, 'timestamp': 1700000020},
    {'from': '0xSybil4...', 'value': 100 * 10**18, 'timestamp': 1700000025},
    {'from': '0xSybil5...', 'value': 100 * 10**18, 'timestamp': 1700000030},
]

# åˆ†æç»“æœ
æŒ‡æ ‡ 1: å‘é€è€… = 5 ä¸ª â†’ é€šè¿‡
æŒ‡æ ‡ 2: æ—¶é—´é›†ä¸­ = 100% åœ¨ 60 ç§’å†… â†’ âš ï¸ è§¦å‘
æŒ‡æ ‡ 3: é‡‘é¢ç›¸åŒ = 100% + å°é¢ â†’ âš ï¸ è§¦å‘

â†’ 2 ä¸ªæŒ‡æ ‡è§¦å‘ â†’ å¥³å·«æ”»å‡»é£é™©
â†’ æœ€ç»ˆç½®ä¿¡åº¦: 72% (MEDIUM)
```

### é¡¹ç›®æ–¹æ‰“æ–° vs å¥³å·«æ”»å‡»

| ç‰¹å¾ | é¡¹ç›®æ–¹æ‰“æ–° | å¥³å·«æ”»å‡» |
|------|-----------|---------|
| å‘é€è€…æ•°é‡ | 1-2 ä¸ª | å¤šä¸ª (ä¼ªé€ ) |
| è½¬è´¦é‡‘é¢ | **ç™¾ä¸‡çº§** | å°é¢ (< 10,000) |
| æ—¶é—´åˆ†å¸ƒ | å¯èƒ½é›†ä¸­ | æåº¦é›†ä¸­ (< 60ç§’) |
| é‡‘é¢åˆ†å¸ƒ | å¯èƒ½ç›¸ä¼¼ | **å®Œå…¨ç›¸åŒ** |
| æœ€ç»ˆç½®ä¿¡åº¦ | **100%** âœ… | 20-40% âš ï¸ |

---

## ğŸš¨ å‘Šè­¦ç­–ç•¥

### HIGH çº§åˆ«å‘Šè­¦ (çº¢è‰²)

**è§¦å‘æ¡ä»¶** (å…¨éƒ¨æ»¡è¶³):
```python
âœ… ç½®ä¿¡åº¦ >= 80%
âœ… è½¬è´¦æ•° >= 3 ç¬”
âœ… ç‹¬ç«‹å‘é€è€… >= 2 ä¸ª
```

**å‘Šè­¦å†…å®¹**:
```
ğŸš¨ğŸš¨ğŸš¨ [BSC] HIGH çº§åˆ«å‘Šè­¦! ğŸš¨ğŸš¨ğŸš¨
   ä»£å¸: NEWCOIN (New Coin Token)
   åˆçº¦: 0x1234567890abcdef...
   è½¬è´¦æ•°: 5 ç¬”
   å‘é€è€…: 3 ä¸ª
   ç½®ä¿¡åº¦: 85%
   ğŸŸ¢ å¼ºçƒˆå»ºè®®: é«˜ç½®ä¿¡åº¦ä¿¡å·ï¼Œå¤šç»´åº¦éªŒè¯é€šè¿‡ï¼Œå»ºè®®é‡ç‚¹å…³æ³¨
   ç«‹å³è¡ŒåŠ¨å»ºè®®: æ·±å…¥è°ƒæŸ¥æ­¤ä»£å¸ï¼
```

---

### MEDIUM çº§åˆ«å‘Šè­¦ (æ©™è‰²)

**è§¦å‘æ¡ä»¶** (å…¨éƒ¨æ»¡è¶³):
```python
âœ… ç½®ä¿¡åº¦ >= 60%
âœ… è½¬è´¦æ•° >= 5 ç¬”
```

**å‘Šè­¦å†…å®¹**:
```
âš¡ [BSC] MEDIUM çº§åˆ«å‘Šè­¦
   ä»£å¸: TESTCOIN
   åˆçº¦: 0xabcdef...
   è½¬è´¦æ•°: 7 ç¬”
   ç½®ä¿¡åº¦: 65%
   ğŸŸ¡ è°¨æ…å»ºè®®: ä¸­ç­‰ç½®ä¿¡åº¦ï¼Œå»ºè®®æŒç»­è§‚å¯Ÿ
```

---

### äºŒæ¬¡éªŒè¯æœºåˆ¶

```python
# HIGH çº§åˆ«å‘Šè­¦ä¼šäºŒæ¬¡æŸ¥è¯¢ Binance API
if alert_level == 'HIGH':
    is_listed, info = binance_filter.is_listed_on_binance(contract)
    if is_listed:
        å–æ¶ˆå‘Šè­¦ (é˜²æ­¢è¯¯æŠ¥)
        print(f"ä»£å¸ {symbol} å·²åœ¨å¸å®‰ä¸Šæ¶")
```

**ä»£ç ä½ç½®**: [multichain_listener.py:434-498](multichain_listener.py#L434-L498)

---

## ğŸ“ˆ è¯„åˆ†ç¤ºä¾‹

### ç¤ºä¾‹ 1: é¡¹ç›®æ–¹å¤§é¢å•å‘é€è€… (100% ç½®ä¿¡åº¦)

```python
# è¾“å…¥æ•°æ®
transfers = [
    {'from': '0xProject...', 'value': 5_000_000 * 10**18, 'timestamp': 1700000000},
    {'from': '0xProject...', 'value': 3_000_000 * 10**18, 'timestamp': 1700000300},
]
senders = {'0xProject...'}  # åªæœ‰ 1 ä¸ªå‘é€è€…
total_value = 8_000_000 ä»£å¸

# å››ç»´åº¦è¯„åˆ†
åŸºç¡€ç»Ÿè®¡: 1.0
  âœ… 2 ç¬”è½¬è´¦ â†’ ä¸æ‰£åˆ† (å¤§é¢è±å…)
  âœ… 1 ä¸ªå‘é€è€… â†’ ä¸æ‰£åˆ† (å¤§é¢è±å…)
  âœ… å¤§é¢è½¬è´¦åŠ åˆ† â†’ +30%
  â†’ å¾—åˆ†: 1.3 (cap at 1.0)

æ—¶é—´æ¨¡å¼: 1.0
  âœ… 5 åˆ†é’Ÿé—´éš” â†’ ä¸è§¦å‘èšç±»è­¦å‘Š

é‡‘é¢åˆ†å¸ƒ: 1.0
  âœ… é‡‘é¢ä¸åŒ (500ä¸‡ vs 300ä¸‡)

å¥³å·«æ£€æµ‹: 1.0
  âœ… å¤§é¢è±å… â†’ æ»¡åˆ†

# æœ€ç»ˆç½®ä¿¡åº¦
(1.0 Ã— 30% + 1.0 Ã— 20% + 1.0 Ã— 20% + 1.0 Ã— 30%) = 100%

# é£é™©ç­‰çº§: LOW
# å»ºè®®: ğŸŸ¢ å¼ºçƒˆå»ºè®®: é«˜ç½®ä¿¡åº¦ä¿¡å·ï¼Œå»ºè®®é‡ç‚¹å…³æ³¨
```

---

### ç¤ºä¾‹ 2: å°é¢å¥³å·«æ”»å‡» (72% ç½®ä¿¡åº¦)

```python
# è¾“å…¥æ•°æ®
transfers = [
    {'from': '0xSybil1...', 'value': 100 * 10**18, 'timestamp': 1700000000},
    {'from': '0xSybil2...', 'value': 100 * 10**18, 'timestamp': 1700000010},
    {'from': '0xSybil3...', 'value': 100 * 10**18, 'timestamp': 1700000020},
    {'from': '0xSybil4...', 'value': 100 * 10**18, 'timestamp': 1700000025},
    {'from': '0xSybil5...', 'value': 100 * 10**18, 'timestamp': 1700000030},
]
senders = 5 ä¸ªä¸åŒåœ°å€
total_value = 500 ä»£å¸ (å°é¢)

# å››ç»´åº¦è¯„åˆ†
åŸºç¡€ç»Ÿè®¡: 1.0
  âœ… 5 ç¬”è½¬è´¦ â†’ æ­£å¸¸
  âœ… 5 ä¸ªå‘é€è€… â†’ æ­£å¸¸

æ—¶é—´æ¨¡å¼: 0.7
  âš ï¸  100% è½¬è´¦åœ¨ 60 ç§’å†… â†’ -30%

é‡‘é¢åˆ†å¸ƒ: 0.5
  âš ï¸  é‡‘é¢å®Œå…¨ç›¸åŒ â†’ -30%
  âš ï¸  å˜å¼‚ç³»æ•° = 0 â†’ -20%

å¥³å·«æ£€æµ‹: 0.6
  âš ï¸  æ—¶é—´é›†ä¸­ + é‡‘é¢ç›¸åŒ + å°é¢ â†’ -40%

# æœ€ç»ˆç½®ä¿¡åº¦
(1.0 Ã— 30% + 0.7 Ã— 20% + 0.5 Ã— 20% + 0.6 Ã— 30%) = 72%

# é£é™©ç­‰çº§: MEDIUM
# å»ºè®®: ğŸŸ¡ è°¨æ…å»ºè®®: ä¸­ç­‰ç½®ä¿¡åº¦ï¼Œå»ºè®®æŒç»­è§‚å¯Ÿ
```

---

### ç¤ºä¾‹ 3: ç”¨æˆ·è‡ªç„¶å……å€¼ (100% ç½®ä¿¡åº¦)

```python
# è¾“å…¥æ•°æ®
transfers = [
    {'from': '0xUserA...', 'value': 1_000 * 10**18, 'timestamp': 1700000000},
    {'from': '0xUserB...', 'value': 500 * 10**18, 'timestamp': 1700003600},   # 1å°æ—¶å
    {'from': '0xUserC...', 'value': 2_000 * 10**18, 'timestamp': 1700007200},  # 2å°æ—¶å
]
senders = 3 ä¸ªä¸åŒç”¨æˆ·
total_value = 3_500 ä»£å¸

# å››ç»´åº¦è¯„åˆ†
åŸºç¡€ç»Ÿè®¡: 1.0
  âœ… 3 ç¬”è½¬è´¦ â†’ æ­£å¸¸
  âœ… 3 ä¸ªå‘é€è€… â†’ æ­£å¸¸

æ—¶é—´æ¨¡å¼: 1.1
  âœ… è·¨åº¦ 2 å°æ—¶ â†’ +10%

é‡‘é¢åˆ†å¸ƒ: 1.0
  âœ… é‡‘é¢åˆ†æ•£ (1000, 500, 2000)

å¥³å·«æ£€æµ‹: 1.0
  âœ… æ— å¯ç–‘æŒ‡æ ‡

# æœ€ç»ˆç½®ä¿¡åº¦
(1.0 Ã— 30% + 1.1 Ã— 20% + 1.0 Ã— 20% + 1.0 Ã— 30%) = 102% â†’ cap at 100%

# é£é™©ç­‰çº§: LOW
# å»ºè®®: ğŸŸ¢ å¼ºçƒˆå»ºè®®: é«˜ç½®ä¿¡åº¦ä¿¡å·ï¼Œå»ºè®®é‡ç‚¹å…³æ³¨
```

---

## ğŸ›ï¸ å‚æ•°è°ƒæ•´

### å½“å‰é…ç½® (é’ˆå¯¹é¡¹ç›®æ–¹æ‰“æ–°ä¼˜åŒ–)

```python
# å¥³å·«æ£€æµ‹é˜ˆå€¼
sybil_thresholds = {
    'min_unique_senders': 1,         # å…è®¸å•å‘é€è€…
    'max_sender_concentration': 0.95, # å…è®¸ 95% é›†ä¸­åº¦
    'same_timestamp_tolerance': 60,   # 60 ç§’è§†ä¸ºæ‰¹é‡
}

# å¤§é¢è½¬è´¦é˜ˆå€¼
large_transfer_thresholds = {
    'min_total_value': 1e24,         # 100ä¸‡ä»£å¸
    'min_single_value': 1e23,        # 10ä¸‡ä»£å¸
    'bonus_score': 0.3,              # +30% ç½®ä¿¡åº¦
}

# è¯„åˆ†æƒé‡
weights = {
    'basic_stats': 0.30,             # 30%
    'time_pattern': 0.20,            # 20%
    'amount_distribution': 0.20,     # 20%
    'sybil_detection': 0.30,         # 30%
}
```

### è°ƒæ•´å»ºè®®

**æ›´ä¸¥æ ¼ (å‡å°‘è¯¯æŠ¥)**:
```python
large_transfer_thresholds = {
    'min_total_value': 5e24,     # 500ä¸‡ä»£å¸
    'min_single_value': 5e23,    # 50ä¸‡ä»£å¸
}
```

**æ›´å®½æ¾ (æ•æ‰æ›´å¤šä¿¡å·)**:
```python
large_transfer_thresholds = {
    'min_total_value': 1e23,     # 10ä¸‡ä»£å¸
    'min_single_value': 1e22,    # 1ä¸‡ä»£å¸
}
```

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

- ä¸»ä»£ç : [multichain_listener.py](multichain_listener.py)
- é…ç½®æ–‡ä»¶: [config.py](config.py)
- æµ‹è¯•è„šæœ¬: [test_scoring.py](test_scoring.py)
- é¡¹ç›®æ–‡æ¡£: [CLAUDE.md](CLAUDE.md)

---

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v3.0 (2024-11-23) ğŸ†•
- âœ… æ–°å¢å¤§é¢è½¬è´¦è¯†åˆ«æœºåˆ¶
- âœ… ä¼˜åŒ–é¡¹ç›®æ–¹æ‰“æ–°æ£€æµ‹
- âœ… æ™ºèƒ½å¥³å·«æ”»å‡»è±å…
- âœ… æ”¾å®½å•å‘é€è€…é™åˆ¶
- âœ… æµ‹è¯•éªŒè¯é€šè¿‡

### v2.0 (2024-11-22)
- âœ… å››ç»´åº¦è¯„åˆ†ç³»ç»Ÿ
- âœ… å¥³å·«æ”»å‡»æ£€æµ‹
- âœ… å¤šé“¾ç»Ÿä¸€ç›‘å¬

---

**æœ€åæ›´æ–°**: 2024-11-23
**ç»´æŠ¤è€…**: Claude Code AI
